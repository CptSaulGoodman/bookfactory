<div id="wizard-content" hx-swap-oob="true">
    <div class="timeline-item-active">
        <div class="timeline-item-completed">
            <h3>{{ _('wizard_timeline_story_idea') }}</h3>
            <p>"{{ book.user_prompt }}"</p>
        </div>
        <div class="timeline-item-completed">
            <h3>{{ _('wizard_timeline_title') }}</h3>
            <p>"{{ book.title }}"</p>
            {% if ai_comment %}
                {% include "wizard/_comment.html" %}
            {% endif %}
        </div>

        <div class="timeline-item-active">
            <h3>{{ _('wizard_timeline_world_setting') }}</h3>

            <form
                hx-put="/book/{{ book.id }}"
                hx-target="#wizard-content"
                hx-swap="innerHTML">
                <label for="world_description">{{ _('world_prompt_label') }}</label>
                <textarea class="textarea" id="world_description" name="world_description" rows="4" required>{{ book.world_description if book.world_description else '' }}</textarea>
                <button type="button" hx-get="/book/{{ book.id }}/title" hx-target="#wizard-content" hx-swap="innerHTML" hx-indicator=".spinner" class="button secondary">{{ _('wizard_back_button') }}</button>
                <button type="submit">{{ _('wizard_next_button') }}</button>
            </form>
        </div>
    </div>
</div>